<!DOCTYPE html>
<html lang="en">

<head>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='styles/style.css') }}">
    <script src="//cdnjs.cloudflare.com/ajax/libs/socket.io/2.2.0/socket.io.js" integrity="sha256-yr4fRk/GU1ehYJPAs8P4JlTgu0Hdsp4ZKrx8bDEDC3I=" crossorigin="anonymous"></script>
    <script src="https://sdk.amazonaws.com/js/aws-sdk-2.283.1.min.js"></script>
    <script type="text/javascript" src="http://ajax.aspnetcdn.com/ajax/jquery/jquery-1.4.1.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

</head>

<body>
  <div id="topmenu" class="navbar">
    <a href="#home">File</a>
    <div class="dropdown">
      <button class="dropbtn">Edit 
        <!--<i class="fa fa-caret-down"></i>-->
      </button>
      <div class="dropdown-content">
        <button href="" onclick="mobilePerformanceSetup()">test player</button>
        <a href="">Load</a>
        <a href="">Open Separate Window</a>
        <a href="">Spectrogram</a>
        <a href="">ML New Window</a>
      </div>
    </div> 
    <a href="#home" onclick="window.close();">Exit</a>
  </div>
  <div id="bottommenu"></div>
  <!--<div id="spectogramdisplay"></div>-->

  <br><br><br>

  <!--<canvas id="viewport" height="512" width="700"></canvas>-->

  <div id="firstContainer">
  <div id="cont1">
    <!--<div class="start-stop">-->
      <!--<span>Listen</span><br>-->
      <button id="start" class="startstop">Start</button>
      <button id="stop" class="startstop">Stop</button>
      <br><br><br><br>
    </div>
    <div id="cont2">

      <div id="probabil">Probability</div>
    </div>

    <div id="cont3">
        <!--<span style="display:block">Prob. threshold:</span>-->
        <span>Threshold</span>
        <input style="display:block" class="thresh" size="5" id="proba-threshold" value="0.75">
    </div>
  
    <!--</div>-->
    <div id="cont4">
      <br>
      <div id="candidate-words" class="candidate-words"></div>
    </div>

    <div id="cont5">
    </div>
    <!--<div id="cont5_">
    </div>-->

    <div id="cont6" style="display: hidden">
    </div>

    <div id="cont7">
      <button style="font-size:14px; width: 13%; height: 80%;" onclick="playStopFile('play')" class="btnsFile"><i class="fa fa-play"></i></button>
      <button style="font-size:14px; width: 13%; height: 80%;" onclick="playStopFile('pause')" class="btnsFile"><i class="fa fa-pause"></i></button>
      <button style="font-size:14px; width: 13%; height: 80%;" onclick="playStopFile('stop')" class="btnsFile"><i class="fa fa-stop"></i></button>
      <button style="font-size:14px; width: 13%; height: 80%;" type="button" id="file-input" onclick="readSingleFile()" class="btnsFile"><i class="fa fa-bars"></i></button>
      <input type="file" id="my_file">
      <button style="font-size:14px; width: 13%; height: 80%;" onclick="addAnnot('add')" class="btnsFile"><i class='fa fa-indent'></i></button>
      <button style="font-size:14px; width: 13%; height: 80%;" onclick="removeAnnots()" class="btnsFile"><i class="fa fa-undo"></i></button>
      <button style="font-size:14px; width: 13%; height: 80%;" onclick="spectrogramNewWindow()" class="btnsFile"><i class="fa fa-copy"></i></button>

    </div>

    <div id="cont9">
    </div>

    <div id="sockettimeline1">
      <div id="aboutAnnot" style="text-align: left; vertical-align: auto;">
        <div id="annotID" style="position: absolute; width: calc(100% - 3px); height: 17%; border-radius: 3px; border: 1px solid grey; top: 1px; left: 0px; color: rgba(200,200,200,1);">
          <span style="position: absolute; left: 3%; top: 11%;">Annotation ID</span>
          <input id="idval" onclick="" style="position: absolute; right: 1px; top: 1px; border-radius: 3px;  border: 1px solid grey; width: 40%; background-color: rgba(32,32,32,1); color: rgba(200,200,200,1); text-align: center;" value="ID Value">
        </div>
        <div id="annotSeconds" style="position: absolute; width: calc(100% - 3px); height: 17%; border-radius: 3px; border: 1px solid grey; top: calc(17% + 4px); left: 0px; color: rgba(200,200,200,1);">
          <span style="position: absolute; left: 3%; top: 11%;">Length in Secs</span>
          <input id="idlength" onclick="" style="position: absolute; right: 1px; top: 1px; border-radius: 3px;  border: 1px solid grey; width: 40%; background-color: rgba(32,32,32,1); color: rgba(200,200,200,1); text-align: center; height: 70%;" value="00:00-00:00">
        </div>

        <div id="annotTrained" style="position: absolute; width: calc(100% - 3px); height: 17%; border-radius: 3px; border: 1px solid grey; top: calc(34% + 7px); left: 0px; color: rgba(200,200,200,1);">
          <span style="position: absolute; left: 3%; top: 11%;">Trigger when Detect</span>
          <input id="triggerspace" onclick="" style="position: absolute; right: 1px; top: 1px; border-radius: 3px;  border: 1px solid grey; width: 40%; background-color: rgba(32,32,32,1); color: rgba(200,200,200,1); text-align: center; height: 70%;" value="00:00-00:00">
        </div>
        
        <div id="annotSocket" style="position: absolute; width: calc(100% - 3px); height: 17%; border-radius: 3px; border: 1px solid grey; top: calc(51% + 10px); left: 0px; color: rgba(200,200,200,1);">
          <span style="position: absolute; left: 3%; top: 11%;">Stream Region</span>
          <button onclick="sendingDataSockets()" id="streamButton" style="position: absolute; right: 1px; top: 1px; border-radius: 3px; height: 98%; border: 1px solid grey; color: rgba(200,200,200,1); width: calc(41% + 0px); background-color: rgba(32,32,32,1); z-index: 5; text-align: center; height: 90%;" >Send Users</button>
        </div>
        <div id="annotPlay" style="position: absolute; width: calc(100% - 3px); height: 17%; border-radius: 3px; border: 1px solid grey; top: calc(68% + 13px); left: 0px; color: rgba(200,200,200,1);">
          <span style="position: absolute; left: 3%; top: 11%;">P/S/E Region</span>
        <button  id="playRegionButton1" onclick="playstopRegion('play')" style="position: absolute; right: calc(26% + 7px); top: 1px; border-radius: 3px;  border: 1px solid grey; width: 13%; background-color: rgba(32,32,32,1); color: rgba(200,200,200,1); height: 92%; z-index: 5;">P</button>
        <button  id="playRegionButton2" onclick="playstopRegion('stop')" style="position: absolute; right: calc(13% + 4px); top: 1px; border-radius: 3px;  border: 1px solid grey; width: 13%; background-color: rgba(32,32,32,1); color: rgba(200,200,200,1); height: 92%; z-index: 5;">S</button>
        <button  id="playRegionButton3" onclick="playstopRegion('close')" style="position: absolute; right: 1px; top: 1px; border-radius: 3px;  border: 1px solid grey; width: 13%; background-color: rgba(32,32,32,1); color: rgba(200,200,200,1); height: 92%; z-index: 5;">X</button>
        </div>

      </div>
      <div id="sendAnnot"></div>
    </div>

    <div id="micspec" style="width: 100%; height: 20%; position: absolute; bottom: 0px; background-color: red;"></div>
    
  <!--
  <div id="sequence1"></div><br>
  <div id="sequence2"></div><br>
  <div id="sequence3"></div>-->
  </div>

  <br>
  <div id="secondContainer">

    <div id="cont10">
      Amazon S3 Repository
    </div>
    <div id="cont11">
      Trained Models<br>
    </div>
    <div id="cont12">
      Recorded Datasets<br>
    </div>

    <div id="cont13">
      IO Methods<br>
    </div>

    <div id="cont14">
      Current Model<br><br>
      <button id="save-transfer-model" disabled="true" class="amazonClass" style="text-align: center; display: none;">Save Model to Cloud</button>
      <button id="save-transfer-model-disk"  disabled="true" class="amazonClass" style="text-align: center;">Save Model to Disk</button>
      <button id="delete-transfer-model" class="amazonClass" style="text-align: center;">Delete Model</button>
      
      <input type="file" id="modeldiskload" onchange="loadFile(this.files[0])" class="amazonClass" style="display: none;">
      <button id="load-transfer-model" class="amazonClass" style="text-align: center;">Load Model from Cloud</button>

      <select id="saved-transfer-models" class="select1">
      <option value="1"></option>
      </select>
    </div>
    <div id="cont15">
      Current Dataset<br><br>
      <button id="download-dataset" disabled="true" class="amazonClass" style="text-align: center;"><!--↓ -->Download Dataset as File</button>
      <button id="upload-dataset" class="amazonClass" style="text-align: center;"><!--↑ -->Upload Dataset from File</button>
      <input type="file" id="dataset-file-input" class="amazonClass" style="display: none;">
      <button id="eval-model-on-dataset" class="amazonClass" style="text-align: center;">Evaluate Model on Dataset</button>
    </div>

  </div>

  <div id="thirdContainer">
  <!--<div class="footer" style="display: block;">
    <textarea id="status-display" style="display: block" cols="80" readonly="true"></textarea>
  </div>-->
  <div class="transfer-learn-section">
    <div id="modelname">
      Model Name
      <input id="transfer-model-name" size="20" placeholder="Model Name" style="text-align: center;">
    </div>
    <div id="_worddiv">
      Sound Names
      <input id="learn-words" style="text-align: center;"size="36" value="Guitar, Piano">
    </div>
    <div id="attrs1">
      Sound Properties <br>
      <select id="duration-multiplier">
        <option value="1">Duration x1</option>
        <option value="2">Duration x2</option>
        <option value="3" selected="true">Duration x3</option>
        <option value="4">Duration x4</option>
      </select>
      <button id="includewav" onclick="includewavform()">Include Sound</button>

      <!--<input type="checkbox" id="include-audio-waveform">
      <span id="include-audio-waveform-label"></span>Include audio waveform</span>
      Include audio waveform-->
  
      <button id="enter-learn-words">Start Transfer</button>
    </div>

    <div id="specplot">
      <div id="transfer-learn-history"></div>
      <div id="collect-words"></div>
    </div>
    <div id="barprog"></div>
    </div>
  </div>

  <div id="fourthContainer">

    <div id="fourthdiv1">
      <span>Epochs</span><br>
      <input class="settings" size="5" id="epochs" value="15">
    </div>
    <div id="fourthdiv2">
      <span>Fine-Tuning Epochs</span>
      <!--<span>Fine-Tuning (FT) Epochs</span>-->
      <input class="settings" size="5" id="fine-tuning-epochs" value="0">
    </div>
    <div id="fourthdiv3">
      <span>Mix Noise</span>
      <button id="mixnoise" onclick="augmentnoisemix()">Augment</button>
      <!--<input type="checkbox" id="augment-by-mixing-noise">-->
    </div>
    <div id="fourthdiv4">
      <span>Train</span>
      <button id="start-transfer-learn" disabled="true">Start Training</button>
    </div>
    <div id="fourthdiv5">
      <span>Clean Graph</span>
      <button id="clean-graph-data">---</button>
    </div>
    <div id="fourthdiv6">
      tf network type
    </div>

    <div id="plots">
      <div id="loss-plot" class="plots"></div>
    </div>
    <div id="plots1">
      <div id="accuracy-plot" class="plots"></div>

    </div>
      <!--<div>
        <div>
          <span id="eval-results" class="eval-results"></span>
        </div>
        <div id="roc-plot" class="plots"></div>
      </div>-->


    
  </div>
  <div id="fifthContainer">
    <div id="cont16">
      State Interaction<br>
      mais um 1 length <br>
      making 
      <input type="text" id="room" name="fname"><br>
      https://stackoverflow.com/questions/48415858/resizable-2d-floor-plan-ruler-on-drag-images
      <button id="lock">lock</button>
      <button id="lock">edit</button>

    </div>
  </div>
  <a id="downloadAnchorElem" style="display:none"></a>

  <!-- The Modal -->
  <div id="amazonmodal" class="modal">

  <!-- Modal content -->
    <div class="modal-content" id="modal-content">
     <span class="close" id="closemodal">&times;</span>
    </div>

  </div>

  <script src="https://unpkg.com/@tensorflow/tfjs"></script>
  <script src="https://unpkg.com/@tensorflow-models/speech-commands"></script>

  <script src="https://unpkg.com/wavesurfer.js"></script>
  <script src="https://unpkg.com/wavesurfer.js/dist/plugin/wavesurfer.regions.min.js"></script>
  <script src="https://unpkg.com/wavesurfer.js/dist/plugin/wavesurfer.minimap.min.js"></script>
  <script src="https://unpkg.com/wavesurfer.js/dist/plugin/wavesurfer.cursor.js"></script>
  <script src="https://unpkg.com/wavesurfer.js/dist/plugin/wavesurfer.timeline.js"></script>
  <script src="https://unpkg.com/wavesurfer.js/dist/plugin/wavesurfer.spectrogram.min.js"></script>
  
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>


  <script src="/static/scripts/xperimus.js"></script>

</body>
</html>